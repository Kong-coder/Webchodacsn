<!DOCTYPE html>
<html>
<head>
    <title>Debug Authentication</title>
</head>
<body>
    <h1>Debug Authentication Status</h1>
    <div id="output"></div>
    
    <script>
        const output = document.getElementById('output');
        
        // Check localStorage
        const userToken = localStorage.getItem('userToken');
        const userInfo = localStorage.getItem('userInfo');
        
        // Check sessionStorage
        const sessionToken = sessionStorage.getItem('userToken');
        const sessionInfo = sessionStorage.getItem('userInfo');
        
        let html = '<h2>LocalStorage:</h2>';
        html += '<p><strong>userToken:</strong> ' + (userToken ? userToken.substring(0, 50) + '...' : 'NOT FOUND') + '</p>';
        html += '<p><strong>userInfo:</strong> ' + (userInfo || 'NOT FOUND') + '</p>';
        
        html += '<h2>SessionStorage:</h2>';
        html += '<p><strong>userToken:</strong> ' + (sessionToken ? sessionToken.substring(0, 50) + '...' : 'NOT FOUND') + '</p>';
        html += '<p><strong>userInfo:</strong> ' + (sessionInfo || 'NOT FOUND') + '</p>';
        
        if (userInfo) {
            try {
                const parsed = JSON.parse(userInfo);
                html += '<h2>Parsed UserInfo:</h2>';
                html += '<pre>' + JSON.stringify(parsed, null, 2) + '</pre>';
            } catch (e) {
                html += '<p style="color: red;">Error parsing userInfo: ' + e.message + '</p>';
            }
        }
        
        output.innerHTML = html;
    </script>
</body>
</html>
